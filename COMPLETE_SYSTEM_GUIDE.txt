# Complete System Architecture & Usage Guide

## ğŸš€ Quick Start (Choose One)

### Option 1: Double-Click (Simplest)
```
Double-click: START_ALL_SERVICES.bat
```

### Option 2: Command Line (Batch)
```cmd
RUN_ALL.bat
```

### Option 3: PowerShell (Most Flexible)
```powershell
.\RUN_ALL.ps1
.\RUN_ALL.ps1 -Help         # Show options
.\RUN_ALL.ps1 -NoAgent      # Skip agent
.\RUN_ALL.ps1 -NoFrontend   # Skip frontend
```

---

## ğŸ“Š System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ZERO TRUST MONITORING SYSTEM               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   FRONTEND       â”‚      â”‚    BACKEND       â”‚       â”‚
â”‚  â”‚  (Port 5173)     â”‚â—„â”€â”€â”€â”€â–ºâ”‚   (Port 8000)    â”‚       â”‚
â”‚  â”‚  - Login UI      â”‚      â”‚  - FastAPI       â”‚       â”‚
â”‚  â”‚  - Dashboard     â”‚      â”‚  - Authentication       â”‚
â”‚  â”‚  - USB Events    â”‚      â”‚  - Device Mgmt   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  - Telemetry DB â”‚       â”‚
â”‚         â–²                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                           â–²               â”‚
â”‚         â”‚ Browser Location          â”‚                  â”‚
â”‚         â”‚ Permission                â”‚                  â”‚
â”‚         â”‚                    Device Heartbeat        â”‚
â”‚         â”‚                    USB Telemetry           â”‚
â”‚         â”‚                    Location Data           â”‚
â”‚         â”‚                           â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                     â”‚                                  â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚         â”‚      AGENT            â”‚                      â”‚
â”‚         â”‚   (Python Process)    â”‚                      â”‚
â”‚         â”‚                       â”‚                      â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                      â”‚
â”‚         â”‚  â”‚ USB Monitor     â”‚  â”‚  (Windows Device)    â”‚
â”‚         â”‚  â”‚ (WMI Events)    â”‚  â”‚                      â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                      â”‚
â”‚         â”‚                       â”‚                      â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                      â”‚
â”‚         â”‚  â”‚ Metrics        â”‚  â”‚  (CPU, Memory, Disk)  â”‚
â”‚         â”‚  â”‚ Collection      â”‚  â”‚                      â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                      â”‚
â”‚         â”‚                       â”‚                      â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                      â”‚
â”‚         â”‚  â”‚ Location Fetch  â”‚  â”‚  (Browser GPS)       â”‚
â”‚         â”‚  â”‚ (Browser API)   â”‚  â”‚                      â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                      â”‚
â”‚         â”‚                       â”‚                      â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚   DATABASE (SQLite)          â”‚                      â”‚
â”‚  â”‚   insider.db                 â”‚                      â”‚
â”‚  â”‚                              â”‚                      â”‚
â”‚  â”‚  Tables:                     â”‚                      â”‚
â”‚  â”‚  - users                     â”‚                      â”‚
â”‚  â”‚  - devices                   â”‚                      â”‚
â”‚  â”‚  - sessions                  â”‚                      â”‚
â”‚  â”‚  - telemetry                 â”‚                      â”‚
â”‚  â”‚  - logs                      â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                    â–²                                    â”‚
â”‚                    â”‚                                    â”‚
â”‚                    â””â”€â”€ DB Watcher                       â”‚
â”‚                    (Real-time Monitoring)              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

### USB Detection Flow (< 2 seconds)

```
1. USB Device Inserted
   â†“
2. Windows WMI Event (Instant)
   â†“
3. Agent Detects (Immediate)
   â†“
4. Creates USB Event Payload
   â†“
5. Queues Event (Priority flush enabled)
   â†“
6. Flushes to Backend (< 100ms)
   â†“
7. Backend Stores in DB (< 50ms)
   â†“
8. DB Watcher Polls (1-second interval)
   â†“
9. Displays Event in Terminal 4 (Combined: < 2 seconds)
```

### Location Tracking Flow

```
1. User Logs In
   â†“
2. Browser Requests Permission ("Allow location?")
   â†“
3. User Grants (or denies) â†’ Browser gets GPS
   â†“
4. Browser Sends in Login Request
   â†“
5. Backend Stores in Session Table
   â†“
6. Location Used for:
   - Device trust scoring
   - Anomaly detection
   - Session validation
   - Admin dashboard display
```

### Telemetry Collection Flow

```
Agent Every 2 Seconds:
â”œâ”€ Read CPU usage (psutil, non-blocking)
â”œâ”€ Read Memory usage
â”œâ”€ Read Disk usage
â”œâ”€ Read Network connections
â”œâ”€ Collect USB events (if any)
â”œâ”€ Package into heartbeat
â””â”€ Send to Backend

Backend on Receipt:
â”œâ”€ Verify agent token
â”œâ”€ Validate signature
â”œâ”€ Storage in Telemetry table
â”œâ”€ Update device.last_seen_at
â”œâ”€ Calculate risk score
â””â”€ Return approval status
```

---

## ğŸ¯ Service Details

### Terminal 1: Backend (FastAPI)
```
Port: 8000
Protocol: HTTP
Framework: FastAPI (Python)
Database: SQLite (insider.db)
Features:
  âœ“ User authentication (login/register)
  âœ“ Device approval workflow
  âœ“ Agent heartbeat processing
  âœ“ Geolocation tracking
  âœ“ Session management
  âœ“ Telemetry storage/retrieval
  âœ“ Swagger API documentation

Access:
  Main: http://localhost:8000
  Docs: http://localhost:8000/docs
  ReDoc: http://localhost:8000/redoc
```

### Terminal 2: Frontend (Vite + Vue)
```
Port: 5173
Framework: Vue 3 + Vite
Features:
  âœ“ Login/registration interface
  âœ“ Admin dashboard
  âœ“ Device management
  âœ“ USB events display
  âœ“ Geolocation visualization
  âœ“ Real-time updates (if WebSocket enabled)
  âœ“ Session history
  âœ“ Trust score display

Access:
  App: http://localhost:5173
  Admin: http://localhost:5173/admin
  USB Events: http://localhost:5173/admin/usb-events
```

### Terminal 3: Agent (Python Process)
```
Process: run_agent.bat
Framework: Python 3.9+
Runs: Agent orchestration with collectors

Components:
  â”Œâ”€ USB Monitor
  â”‚  â””â”€ WMI event listener (Windows)
  â”‚     â””â”€ Detects insertions/removals
  â”‚
  â”œâ”€ Metrics Collector
  â”‚  â””â”€ psutil sampling
  â”‚     â”œâ”€ CPU (non-blocking)
  â”‚     â”œâ”€ Memory
  â”‚     â”œâ”€ Disk
  â”‚     â””â”€ Network
  â”‚
  â”œâ”€ System Info
  â”‚  â””â”€ Hardware discovery
  â”‚     â”œâ”€ Processor
  â”‚     â”œâ”€ RAM
  â”‚     â”œâ”€ Hostname
  â”‚     â””â”€ OS Version
  â”‚
  â”œâ”€ Location Fetch
  â”‚  â””â”€ Browser geolocation
  â”‚     â””â”€ Via device.open() API call
  â”‚
  â””â”€ Heartbeat Sender
     â””â”€ REST API client
        â”œâ”€ Register endpoint
        â”œâ”€ Heartbeat endpoint
        â””â”€ Token rotation

Intervals:
  Heartbeat (approved): 2 seconds
  Heartbeat (unapproved): 5 seconds
  USB event flush: Immediate
  Metrics collection: Non-blocking (0ms blocking)

Config File: agent/config.json
```

### Terminal 4: Database Watcher (Python Script)
```
Script: python check_db.py
Location: backend/check_db.py

Function:
  Continuously polls SQLite database for new telemetry
  Displays USB events in real-time as they arrive
  
Features:
  âœ“ 1-second poll interval (optimized)
  âœ“ Queries only new rows (ID-based tracking)
  âœ“ Formats output with IST timestamps
  âœ“ Shows device ID, event type, description
  âœ“ No database locking (read-only)

Output Format:
  [2026-02-22T03:15:42.123456+05:30] device_id=6 USB inserted (EventType: 2)
  [2026-02-22T03:15:42.234567+05:30] device_id=6 USB changed (EventType: 1)

Timestamp Timezone: IST (India Standard Time, UTC+5:30)
```

---

## ğŸ“Š Database Schema (SQLite)

```
insider.db
â”œâ”€ users
â”‚  â”œâ”€ id (Primary Key)
â”‚  â”œâ”€ email (Unique)
â”‚  â”œâ”€ hashed_password
â”‚  â”œâ”€ is_active
â”‚  â””â”€ created_at (IST)
â”‚
â”œâ”€ devices
â”‚  â”œâ”€ id (Primary Key)
â”‚  â”œâ”€ device_uuid (Unique)
â”‚  â”œâ”€ hostname
â”‚  â”œâ”€ is_approved (0 = No, 1 = Yes)
â”‚  â”œâ”€ is_active
â”‚  â”œâ”€ trust_score (0-100)
â”‚  â”œâ”€ first_registered_at (IST)
â”‚  â””â”€ last_seen_at (IST)
â”‚
â”œâ”€ sessions
â”‚  â”œâ”€ id (Primary Key)
â”‚  â”œâ”€ user_id (Foreign Key)
â”‚  â”œâ”€ device_id (Foreign Key)
â”‚  â”œâ”€ latitude (Geolocation)
â”‚  â”œâ”€ longitude (Geolocation)
â”‚  â”œâ”€ location (IP-based)
â”‚  â”œâ”€ user_agent
â”‚  â”œâ”€ ip_address
â”‚  â”œâ”€ created_at (IST)
â”‚  â””â”€ expires_at (IST)
â”‚
â”œâ”€ telemetry
â”‚  â”œâ”€ id (Primary Key)
â”‚  â”œâ”€ device_id (Foreign Key)
â”‚  â”œâ”€ collected_at (IST)
â”‚  â”œâ”€ metrics (JSON)
â”‚  â”‚  â”œâ”€ cpu: {percent: float}
â”‚  â”‚  â”œâ”€ memory: {virtual: {percent: float, used_mb: float}}
â”‚  â”‚  â”œâ”€ disk: {root: {percent: float, used_gb: float}}
â”‚  â”‚  â”œâ”€ processes: {total: int}
â”‚  â”‚  â”œâ”€ network: {connections: int}
â”‚  â”‚  â””â”€ usb_devices: [{event_type, timestamp, description}]
â”‚  â””â”€ sample_count (int, default 1)
â”‚
â””â”€ logs
   â”œâ”€ id (Primary Key)
   â”œâ”€ device_id (Foreign Key, nullable)
   â”œâ”€ action (string)
   â”œâ”€ details (JSON)
   â”œâ”€ created_at (IST)
   â””â”€ ip_address
```

---

## ğŸ” Authentication & Approval Workflow

```
Device Registration:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent Starts    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sends Registration Request  â”‚ â† Device UUID, Hardware Info
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Backend Response:           â”‚
â”‚ - agent_token (128 char)    â”‚
â”‚ - is_approved: false        â”‚ â† Initially unapproved
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent Waits for Approval           â”‚  (pending_interval: 5s)
â”‚ Sends heartbeats with empty metrics â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼  (Admin approves device)
    Approval Request
    POST /agent/devices/{id}/approve
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Updates:            â”‚
â”‚ device.is_approved = 1      â”‚
â”‚ device.approved_at = now()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent Gets Response:                â”‚
â”‚ is_approved = true                  â”‚
â”‚ Switches to: approved_interval: 2s  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent Sends Full Telemetry      â”‚
â”‚ Every 2 seconds:                â”‚
â”‚ - CPU, Memory, Disk            â”‚
â”‚ - USB events (priority flush)   â”‚
â”‚ - Location data                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Testing Scenarios

### Scenario 1: USB Detection (< 2 seconds)

```
Terminal 1: Backend running âœ“
Terminal 2: Frontend running âœ“
Terminal 3: Agent running âœ“
Terminal 4: DB Watcher running âœ“

Steps:
1. Insert USB device
2. Watch Terminal 4 for event
3. Should appear within 2 seconds

Expected Output:
[2026-02-22T03:15:42.123456+05:30] device_id=6 USB inserted (EventType: 2)
```

### Scenario 2: Device Approval

```
Terminal 1: Backend running âœ“
Terminal 3: Agent running âœ“

Steps:
1. Login: http://localhost:5173/login
2. Go to Admin > Devices
3. Find your device (not approved yet)
4. Click "Approve"
5. Check Terminal 3 for "Switching to approved interval: 2s"

Expected Behavior:
- Before approval: Minimal heartbeats (5s interval)
- After approval: Full telemetry (2s interval)
```

### Scenario 3: Location Tracking

```
Terminal 1: Backend running âœ“
Terminal 2: Frontend running âœ“

Steps:
1. Open Browser DevTools (F12)
2. Go to http://localhost:5173/login
3. Click Login
4. Browser asks: "Allow location?"
5. Click "Allow"
6. Check DevTools Console for success message

Expected:
- Browser GPS coordinates sent to backend
- Location stored in session table
- Used for device trust scoring
```

### Scenario 4: Real-time Telemetry

```
Terminal 3: Agent running âœ“
Terminal 4: DB Watcher running âœ“

Steps:
1. Check Terminal 4 continuously
2. Every 2 seconds, agent sends telemetry
3. DB Watcher displays CPU, Memory, USB events

Expected Output:
[2026-02-22T03:15:42.456789+05:30] device_id=6 metrics received
  CPU: 5.2%, Memory: 2048MB, Network: 12 connections
```

---

## ğŸ“ˆ Performance Metrics

| Component | Metric | Value | Notes |
|-----------|--------|-------|-------|
| **USB Detection** | Detection latency | < 2 seconds | WMI â†’ Agent â†’ Backend â†’ DB |
| **Metrics Collection** | Blocking time | 0ms | CPU sampling non-blocking |
| **Heartbeat Interval** | Approved device | 2 seconds | 15x faster than original |
| **Heartbeat Interval** | Pending device | 5 seconds | Rate-limited for unapproved |
| **DB Poll Interval** | Watcher refresh | 1 second | Real-time feel |
| **API Response** | Average latency | < 100ms | FastAPI optimization |
| **USB Event Flush** | Priority delivery | Immediate | No queue waiting |
| **Backend Startup** | Time to ready | < 5 seconds | Fast initialization |
| **Frontend Startup** | Time to renderable | < 5 seconds | Vite optimization |

---

## ğŸ”§ Customization

### Adjust Heartbeat Interval
Edit: `agent/config.json`
```json
{
  "heartbeat_interval": 2,      // Change this for approved devices
  "pending_interval": 5,        // Change this for unapproved devices
}
```

### Adjust DB Watcher Poll Interval
Edit: `backend/check_db.py` line ~114
```python
watch_usb_events_db(poll_seconds=1)  # Change to 0.5 for faster polling
```

### Enable/Disable Telemetry Components
Edit: `agent/config.json`
```json
{
  "usb_monitoring_enabled": true,
  "cpu_telemetry_enabled": true,
  "memory_telemetry_enabled": true,
  "disk_telemetry_enabled": true,
  "network_telemetry_enabled": true
}
```

---

## âš ï¸ Troubleshooting

### All Services Start But Nothing Works

**Check 1: Database**
```powershell
cd backend
python create_db.py  # Recreate if corrupted
python inspect_db.py # Check contents
```

**Check 2: Port Conflicts**
```powershell
netstat -ano | findstr :8000   # Backend
netstat -ano | findstr :5173   # Frontend
```

**Check 3: Backend Logs**
Check Terminal 1 for Python errors

### USB Events Not Appearing

**Check 1: Agent Running**
Verify Terminal 3 shows agent initialization

**Check 2: Device Approved**
Login and check if device is approved

**Check 3: DB Watcher**
Verify Terminal 4 is actively polling

**Check 4: USB Chipset Support**
Some USB devices may not trigger WMI events on certain systems

### Frontend Can't Connect to Backend

**Possible Causes:**
- Backend not running (check Terminal 1)
- Port 8000 already in use
- Firewall blocking localhost:8000
- CORS configuration issue

**Solution:**
```powershell
# Check if backend is responding
Invoke-WebRequest http://localhost:8000/docs
```

---

## ğŸ“ Support Commands

```powershell
# Test Backend
curl http://localhost:8000/docs

# Test Frontend
curl http://localhost:5173

# Check Database
sqlite3 backend/insider.db ".tables"

# Monitor Agent
Get-Process | findstr python

# Check Ports
netstat -ano | findstr LISTENING
```

---

## ğŸ‰ Success Indicators

âœ… **System is working correctly when:**
- [ ] All 4 terminals show "Starting..." without errors
- [ ] Frontend loads at http://localhost:5173
- [ ] Can login with superadmin@company.com / super@1234
- [ ] API docs available at http://localhost:8000/docs
- [ ] Insert USB â†’ Event appears in Terminal 4 within 2 seconds
- [ ] Browser asks for location permission on login
- [ ] Device shows in Admin > Devices table
- [ ] Can approve device and see status change

---
